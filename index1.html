<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GREEN AND GROW - Sustainable Fashion</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script>
        // Avoids "flash of unstyled content" by applying the theme before the page loads
        if (localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
          document.documentElement.classList.add('dark');
        } else {
          document.documentElement.classList.remove('dark');
        }
    </script>
    <style>
        :root {
            --primary-color: #84cc16; /* Lime Green */
            --primary-dark: #65a30d; /* Darker Lime Green */
            --text-color: #1f2937; /* Dark Grey */
            --bg-color: #f9fafb; /* Off-White */
            --border-color: #e5e7eb; /* Light Grey */
        }
        html.dark {
            --text-color: #f9fafb;
            --bg-color: #111827; /* Dark Blue-Grey */
            --border-color: #374151; /* Medium Grey */
        }
        body {
            font-family: 'Poppins', sans-serif;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="rgba(132, 204, 22, 0.7)"><circle cx="12" cy="12" r="8"/></svg>') 12 12, auto;
            background-color: var(--bg-color);
            color: var(--text-color);
        }
        a, button, input {
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" viewBox="0 0 32 32"><path fill="rgba(132, 204, 22, 0.8)" d="M11.3,24.27l-5.67-5.68a1,1,0,0,1,0-1.42l3.54-3.53a1,1,0,0,1,1.41,0L16,19.05a1,1,0,0,1,0,1.41Z"/><path fill="rgba(132, 204, 22, 0.9)" d="m18.3,19.1-2.88-2.88a1,1,0,0,1,0-1.41l3.54-3.54a1,1,0,0,1,1.41,0L25.7,16.6a1,1,0,0,1,0,1.41l-3.54,3.54a1,1,0,0,1-1.41,0Z"/></svg>') 0 0, pointer;
        }
        .hidden { display: none; }
        .nav-link-active { color: var(--primary-color); font-weight: 600; }
        .gradient-text {
            background: linear-gradient(to right, #a3e635, #84cc16);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        html.dark .gradient-text {
             background: linear-gradient(to right, #bef264, #a3e635);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .card-hover { transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); }
        .card-hover:hover {
            transform: translateY(-6px);
            box-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        html.dark .card-hover:hover {
            box-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
        }
        .dropdown-menu {
            transition: opacity 0.3s ease, transform 0.3s ease;
            transform: translateY(10px);
            opacity: 0;
            pointer-events: none;
        }
        .dropdown:hover .dropdown-menu {
            display: block;
            transform: translateY(0);
            opacity: 1;
            pointer-events: auto;
        }
        .animatable {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .animatable.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body class="text-gray-900 dark:text-gray-200">

    <div class="container mx-auto px-4 py-6 max-w-6xl">
        
        <header class="text-center mb-10 mt-6 animatable">
            <h1 class="text-6xl md:text-7xl font-extrabold gradient-text">GREEN AND GROW ðŸŒ±</h1>
            <p class="mt-4 text-xl text-gray-600 dark:text-gray-400 font-medium tracking-wide">Smarter Fashion, Greener Future</p>
        </header>

        <nav id="main-nav" class="bg-white/90 dark:bg-gray-800/90 backdrop-blur-md shadow-lg rounded-full sticky top-4 z-50 mb-12 p-2 flex flex-wrap justify-center items-center gap-x-4 sm:gap-x-8 gap-y-2">
            <a href="#home" class="nav-link font-medium text-gray-700 dark:text-gray-300 hover:text-green-500 transition-colors py-2 px-4 rounded-full" data-page="homePage">Home</a>
            <div class="relative dropdown">
                 <button class="nav-link font-medium text-gray-700 dark:text-gray-300 hover:text-green-500 transition-colors flex items-center py-2 px-4 rounded-full">
                   About Us
                   <svg class="w-4 h-4 ml-1 transform transition-transform duration-300 dropdown-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                 </button>
                 <div class="dropdown-menu absolute hidden bg-white dark:bg-gray-700 shadow-xl rounded-2xl mt-2 py-2 w-48 left-1/2 -translate-x-1/2">
                   <a href="#mission" class="block px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-xl mx-2" data-page="missionPage">Our Mission</a>
                   <a href="#team" class="block px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-xl mx-2" data-page="teamPage">Meet the Team</a>
                 </div>
            </div>
            <a href="#features" class="nav-link font-medium text-gray-700 dark:text-gray-300 hover:text-green-500 transition-colors py-2 px-4 rounded-full" data-page="featuresPage">Features</a>
            <a href="#howitworks" class="nav-link font-medium text-gray-700 dark:text-gray-300 hover:text-green-500 transition-colors py-2 px-4 rounded-full" data-page="howItWorksPage">How It Works</a>
            <a href="#partners" class="nav-link font-medium text-gray-700 dark:text-gray-300 hover:text-green-500 transition-colors py-2 px-4 rounded-full" data-page="partnersPage">Local Partners</a>
            <a href="#contact" class="nav-link font-medium text-gray-700 dark:text-gray-300 hover:text-green-500 transition-colors py-2 px-4 rounded-full" data-page="contactPage">Contact Us</a>
            <!-- Dark Mode Toggle Button -->
            <button id="theme-toggle" class="ml-4 p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                <svg id="theme-toggle-dark-icon" class="hidden h-5 w-5 text-gray-600 dark:text-gray-300" fill="currentColor" viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
                <svg id="theme-toggle-light-icon" class="hidden h-5 w-5 text-gray-600 dark:text-gray-300" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.707.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM10 16a1 1 0 110 2 1 1 0 010-2zm-8-5a1 1 0 011-1h1a1 1 0 110 2H3a1 1 0 01-1-1zm-1.464 4.95l.707-.707a1 1 0 111.414 1.414l-.707.707a1 1 0 01-1.414-1.414zM16 10a1 1 0 112 0v1a1 1 0 11-2 0v-1z" clip-rule="evenodd" fill-rule="evenodd"></path></svg>
            </button>
        </nav>

        <main>
            <section id="homePage" class="page">
                <div class="bg-white dark:bg-gray-800 rounded-3xl shadow-lg p-6 sm:p-10 mb-12 animatable">
                    <div class="flex flex-col md:flex-row items-center justify-between gap-8">
                        <div class="md:w-1/2">
                            <h2 class="text-3xl sm:text-4xl font-extrabold leading-tight mb-4 text-gray-900 dark:text-white">Discover Sustainable Fashion Alternatives Locally.</h2>
                            <p class="text-gray-600 dark:text-gray-300 mb-6 text-lg">Find pre-loved treasures, expert repair services, and local upcycling artisans near you. Make conscious choices, one garment at a time.</p>
                            <label for="clothing-item" class="block text-xl font-semibold text-gray-800 dark:text-gray-100 mb-3">Find a Sustainable Alternative</label>
                            <div class="flex flex-col sm:flex-row gap-4">
                                <input type="text" id="clothing-item" class="flex-grow w-full px-5 py-4 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition placeholder:text-gray-400 dark:placeholder:text-gray-500" placeholder="e.g., 'jeans', 'shirt repair'...">
                                <button id="search-btn" class="w-full sm:w-auto bg-green-600 text-white font-bold py-4 px-8 rounded-xl hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-transform transform active:scale-95">
                                    Search âœ¨
                                </button>
                            </div>
                        </div>
                        <div class="md:w-1/2">
                            <img src="image copy 2.png" alt="" class="rounded-2xl shadow-lg transform hover:scale-105 transition-transform duration-300">
                        </div>
                    </div>
                </div>
                <div id="suggestions-container" class="grid md:grid-cols-2 gap-8"></div>
            </section>

            <section id="missionPage" class="page hidden bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-lg">
                <h2 class="text-3xl font-bold mb-6 text-center gradient-text animatable">Our Mission</h2>
                <div class="space-y-6 text-gray-700 dark:text-gray-300 leading-relaxed max-w-3xl mx-auto">
                    <p class="animatable"><strong>GREEN AND GROW</strong> is a Greentech initiative tackling the textile waste crisis by promoting smarter fashion choices and a circular economy. Our solution is a web application that will use AI-driven sensors to analyze clothing, assess a garment's fabric type and quality, predict its lifespan, and provide actionable recommendations for recycling and upcycling.</p>
                    <p class="animatable">This innovative approach solves the problem of consumers struggling to evaluate fabric quality and find sustainable disposal options. It empowers users to make informed purchasing decisions, reduces textile waste in landfills, and supports local artisans by connecting them with raw materials. We aim to build a more conscious and ethical fashion industry.</p>
                </div>
            </section>
            
            <section id="teamPage" class="page hidden">
                <h2 class="text-3xl font-bold mb-10 text-center gradient-text animatable">Meet the Team</h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-12 max-w-2xl mx-auto">
                    <div class="text-center animatable card-hover bg-white dark:bg-gray-800 p-6 rounded-3xl shadow-md">
                        <img src="image.png" alt="Megha Singh" class="w-40 h-40 mx-auto rounded-full object-cover shadow-lg mb-4 transform transition-transform duration-300 hover:scale-105">
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white">Megha Singh</h3>
                        <p class="text-green-600 font-semibold">CEO & Marketing Head</p>
                    </div>
                    <div class="text-center animatable card-hover bg-white dark:bg-gray-800 p-6 rounded-3xl shadow-md">
                        <img src="snehapriya.png" alt="Sneha Priya" class="w-40 h-40 mx-auto rounded-full object-cover shadow-lg mb-4 transform transition-transform duration-300 hover:scale-105">
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white">Sneha Priya</h3>
                        <p class="text-green-600 font-semibold">Technical & Sales Head</p>
                    </div>
                </div>
            </section>

            <section id="featuresPage" class="page hidden bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-lg">
                <h2 class="text-3xl font-bold mb-10 text-center gradient-text animatable">Our Features</h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-6xl mx-auto">
                    <div class="bg-gray-50 dark:bg-gray-700 p-6 rounded-2xl card-hover animatable flex flex-col items-center text-center">
                        <img src="image copy 7.png" alt="AI Fabric Scanning" class="w-full h-40 object-cover rounded-xl mb-4">
                        <h3 class="text-xl font-bold text-gray-800 dark:text-white mb-2">AI Fabric Scanning</h3>
                        <p class="text-gray-600 dark:text-gray-300 text-sm">Instantly analyze fabric type and quality with our AI-powered scanner.</p>
                    </div>
                    <div class="bg-gray-50 dark:bg-gray-700 p-6 rounded-2xl card-hover animatable flex flex-col items-center text-center">
                        <img src="image copy 4.png" alt="Lifespan Prediction" class="w-full h-40 object-cover rounded-xl mb-4">
                        <h3 class="text-xl font-bold text-gray-800 dark:text-white mb-2">Lifespan Prediction</h3>
                        <p class="text-gray-600 dark:text-gray-300 text-sm">Get durability predictions to make smarter purchasing decisions.</p>
                    </div>
                    <div class="bg-gray-50 dark:bg-gray-700 p-6 rounded-2xl card-hover animatable flex flex-col items-center text-center">
                        <img src="image copy 6.png" alt="Upcycled Products" class="w-full h-40 object-cover rounded-xl mb-4">
                        <h3 class="text-xl font-bold text-gray-800 dark:text-white mb-2">Upcycling & Customization</h3>
                        <p class="text-gray-600 dark:text-gray-300 text-sm">Transform old clothes into new products by connecting with local artisans.</p>
                    </div>
                    <div class="bg-gray-50 dark:bg-gray-700 p-6 rounded-2xl card-hover animatable flex flex-col items-center text-center">
                        <img src="image copy 5.png" alt="Seamless Recycling" class="w-full h-40 object-cover rounded-xl mb-4">
                        <h3 class="text-xl font-bold text-gray-800 dark:text-white mb-2">Seamless Recycling</h3>
                        <p class="text-gray-600 dark:text-gray-300 text-sm">Connect with thrift stores and recycling centers for easy disposal.</p>
                    </div>
                </div>
            </section>

            <section id="howItWorksPage" class="page hidden">
                 <h2 class="text-3xl font-bold mb-10 text-center gradient-text animatable">How It Works</h2>
                 <div class="grid md:grid-cols-2 gap-12 items-center max-w-4xl mx-auto">
                     <div class="text-center animatable"><img src="image copy 3.png" alt="NIR Sensor scanning fabric" class="rounded-2xl shadow-lg mx-auto transform hover:scale-105 transition-transform duration-300"></div>
                     <div class="animatable">
                         <h3 class="text-2xl font-bold mb-2 text-gray-900 dark:text-white">Infrared Spectroscopy (NIR)</h3>
                         <p class="text-gray-600 dark:text-gray-300 leading-relaxed">Our device uses near-infrared light to analyze a fabric's spectral properties. Different materials reflect light differently, allowing the sensor to accurately identify the fiber composition, even in blended fabrics.</p>
                     </div>
                     <div class="animatable order-last md:order-none">
                         <h3 class="text-2xl font-bold mb-2 text-gray-900 dark:text-white">AI + Computer Vision</h3>
                         <p class="text-gray-600 dark:text-gray-300 leading-relaxed">A high-resolution camera and AI image recognition scan a fabric's texture and patterns. Machine learning algorithms compare the scan to a vast database to predict the garment's quality and detect any damage.</p>
                     </div>
                      <div class="text-center animatable order-first md:order-none"><img src="https://images.unsplash.com/photo-1559814421-27103a8ec301?q=80&w=1964&auto=format&fit=crop" alt="AI Vision sensor scanning fabric" class="rounded-2xl shadow-lg mx-auto transform hover:scale-105 transition-transform duration-300"></div>
                 </div>
            </section>

            <section id="partnersPage" class="page hidden">
                 <h2 class="text-3xl font-bold mb-8 text-center gradient-text animatable">Our Local Partners</h2>
                 <div id="all-partners-container" class="grid md:grid-cols-2 gap-8"></div>
            </section>

            <section id="contactPage" class="page hidden bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-lg">
                <h2 class="text-3xl font-bold mb-6 text-center gradient-text animatable">Get In Touch</h2>
                <form id="contact-form" class="max-w-xl mx-auto animatable">
                    <div class="mb-5"><label for="name" class="block text-gray-700 dark:text-gray-300 font-medium mb-2">Name</label><input type="text" id="name" name="name" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500" required></div>
                    <div class="mb-5"><label for="email" class="block text-gray-700 dark:text-gray-300 font-medium mb-2">Email</label><input type="email" id="email" name="email" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500" required></div>
                    <div class="mb-6"><label for="message" class="block text-gray-700 dark:text-gray-300 font-medium mb-2">Message</label><textarea id="message" name="message" rows="5" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500" required></textarea></div>
                    <div class="text-center"><button type="submit" class="bg-green-600 text-white font-bold py-4 px-10 rounded-xl hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition active:scale-95">Send Message</button></div>
                </form>
                 <p id="form-success-message" class="text-center mt-6 text-green-600 font-medium hidden">Thank you for your message! We'll get back to you soon. ðŸ’š</p>
            </section>
        </main>
        
        <footer class="text-center mt-16 py-8 border-t border-gray-200 dark:border-gray-700">
            <p class="text-gray-500 dark:text-gray-400 font-medium">&copy; 2025 GREEN AND GROW. All Rights Reserved.</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const localAlternatives = [
                { name: "Danapur Thrift Treasures", type: "Thrift Store", category: "Thrift", description: "A cozy spot with a curated collection of pre-loved clothing for all ages.", address: "12, Bailey Road, Danapur, Patna", imageUrl: "https://images.unsplash.com/photo-1513233157805-4f4df703d15b?q=80&w=1932&auto=format&fit=crop", keywords: ["thrift", "second-hand", "jeans", "shirt", "kurta", "jacket", "saree"] },
                { name: "The Stitching Corner", type: "Repair Shop", category: "Repair", description: "Expert alterations and repairs for all types of garments.", address: "Shop 4, Gola Road Market, Danapur", imageUrl: "https://images.unsplash.com/photo-1518118029056-b07675f9218d?q=80&w=1935&auto=format&fit=crop", keywords: ["repair", "alteration", "fix", "jeans", "pants", "zip", "stitch", "dress"] },
                { name: "Bihar Handlooms & Co.", type: "Ethical Brand", category: "Ethical", description: "Showcasing beautiful, locally sourced handloom fabrics like Khadi.", address: "Khagaul Road, Danapur Cantt, Patna", imageUrl: "https://images.unsplash.com/photo-1577789417852-c0e0b35520a2?q=80&w=1974&auto=format&fit=crop", keywords: ["ethical", "sustainable", "local", "brand", "khadi", "shirt", "kurta", "saree"] },
                { name: "Danapur Upcycle Studio", type: "Upcycling Service", category: "Upcycle", description: "Connect with artisans who can transform your old clothes into new products.", address: "Online Collective, Danapur", imageUrl: "https://images.unsplash.com/photo-1589255627255-0820067d020d?q=80&w=1964&auto=format&fit=crop", keywords: ["upcycle", "custom", "redesign", "jeans", "jacket", "bag", "t-shirt"] }
            ];

            const icons = {
                Thrift: `<svg xmlns="https://putthison.com/wp-content/uploads/2011/08/tumblr_lpq65gvWzr1qa2j8co1_500.jpg" class="h-6 w-6 mr-2 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M16 11V7a4 4 0 00-8 0v4M6 9h12a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3a2 2 0 012-2z" /></svg>`,
                Repair: `<svg xmlns="https://www.thegalleria.ae/sites/default/files/styles/free_image/public/content_images/shop/Sewing%20Close%20Up.jpg" class="h-6 w-6 mr-2 text-yellow-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37a1.724 1.724 0 002.572-1.065z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>`,
                Ethical: `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.01 12.01 0 003 12c0 2.83 1.346 5.33 3.447 7.042C8.077 20.254 9.946 21 12 21c2.053 0 3.922-.746 5.553-1.958A12.01 12.01 0 0021 12c0-2.83-1.346-5.33-3.447-7.042z" /></svg>`,
                Upcycle: `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-purple-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M7 7h.01M7 3h5a2 2 0 012 2v2m-2 2h2m-2 2v4m-2-2h-2m-2 4h4m-2 4h2m-2-4v4m-2-2h-4a2 2 0 01-2-2v-4m-2-2h2m-2 2v2m-2 2h4m-2-4v-4a2 2 0 012-2h4a2 2 0 012 2v2" /></svg>`
            };

            const nav = document.getElementById('main-nav');
            const pages = document.querySelectorAll('.page');
            const themeToggleBtn = document.getElementById('theme-toggle');
            const darkIcon = document.getElementById('theme-toggle-dark-icon');
            const lightIcon = document.getElementById('theme-toggle-light-icon');
            
            const changePage = (pageId) => {
                pages.forEach(page => page.classList.add('hidden'));
                const targetPage = document.getElementById(pageId);
                if (targetPage) {
                    targetPage.classList.remove('hidden');
                    const animatedElements = targetPage.querySelectorAll('.animatable');
                    animatedElements.forEach(el => {
                        setTimeout(() => {
                            if (isElementInViewport(el)) {
                                el.classList.add('is-visible');
                            }
                        }, 100);
                    });
                } else {
                    document.getElementById('homePage').classList.remove('hidden');
                }
                document.querySelectorAll('#main-nav .nav-link').forEach(link => {
                    link.classList.remove('nav-link-active');
                });
                const activeLink = document.querySelector(`#main-nav a[data-page="${pageId}"]`);
                if (activeLink) {
                    activeLink.classList.add('nav-link-active');
                }
                const dropdownButton = document.querySelector('.dropdown button');
                if (pageId === 'missionPage' || pageId === 'teamPage') {
                    dropdownButton.classList.add('nav-link-active');
                } else {
                    dropdownButton.classList.remove('nav-link-active');
                }
            };

            nav.addEventListener('click', (e) => {
                const link = e.target.closest('a[data-page]');
                if (link) {
                    e.preventDefault();
                    const pageId = link.dataset.page;
                    changePage(pageId);
                    window.location.hash = pageId.replace('Page', '');
                }
            });
            
            const searchBtn = document.getElementById('search-btn');
            const clothingItemInput = document.getElementById('clothing-item');
            const suggestionsContainer = document.getElementById('suggestions-container');
            
            const createSuggestionCard = (alt, index) => {
                return `<div class="bg-white dark:bg-gray-800 rounded-3xl shadow-lg p-6 flex flex-col card-hover animatable" style="transition-delay: ${index * 100}ms">
                    <img src="${alt.imageUrl}" alt="${alt.name}" class="w-full h-48 object-cover rounded-xl mb-4">
                    <div class="flex-grow">
                        <h3 class="text-2xl font-bold text-gray-800 dark:text-white">${alt.name}</h3>
                        <p class="font-semibold flex items-center mt-2 text-gray-700 dark:text-gray-300">${icons[alt.category] || ''} ${alt.type}</p>
                        <p class="text-gray-600 dark:text-gray-400 mt-3 text-base">${alt.description}</p>
                    </div>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mt-4">${alt.address}</p>
                </div>`;
            }

            const displaySuggestions = (container, alternatives) => {
                container.innerHTML = alternatives.map(createSuggestionCard).join('') || `<p class="text-center text-gray-500 md:col-span-2 py-10">No alternatives found for that search. Try something else!</p>`;
                container.querySelectorAll('.animatable').forEach(el => el.classList.add('is-visible'));
            };

            const searchAlternatives = () => {
                const query = clothingItemInput.value.toLowerCase();
                const filtered = query ? localAlternatives.filter(alt => alt.name.toLowerCase().includes(query) || alt.type.toLowerCase().includes(query) || alt.keywords.some(k => query.includes(k))) : localAlternatives;
                displaySuggestions(suggestionsContainer, filtered);
            };

            searchBtn.addEventListener('click', searchAlternatives);
            clothingItemInput.addEventListener('keyup', (e) => e.key === 'Enter' && searchAlternatives());
            
            const contactForm = document.getElementById('contact-form');
            const formSuccessMessage = document.getElementById('form-success-message');
            contactForm.addEventListener('submit', (e) => {
                e.preventDefault();
                formSuccessMessage.classList.remove('hidden');
                contactForm.reset();
                setTimeout(() => formSuccessMessage.classList.add('hidden'), 3000);
            });

            const isElementInViewport = (el) => {
                const rect = el.getBoundingClientRect();
                return (rect.top <= (window.innerHeight || document.documentElement.clientHeight) && rect.bottom >= 0);
            };

            const handleScrollAnimations = () => {
                const animatables = document.querySelectorAll('.animatable:not(.is-visible)');
                animatables.forEach((el) => {
                    if (isElementInViewport(el)) {
                        el.classList.add('is-visible');
                    }
                });
            };
            
            // --- Theme Toggle Logic ---
            if (localStorage.getItem('theme') === 'dark') {
                lightIcon.classList.remove('hidden');
            } else {
                darkIcon.classList.remove('hidden');
            }

            themeToggleBtn.addEventListener('click', () => {
                darkIcon.classList.toggle('hidden');
                lightIcon.classList.toggle('hidden');
                
                const isDark = document.documentElement.classList.toggle('dark');
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
            });

            const handleInitialLoad = () => {
                const hash = window.location.hash.substring(1);
                const pageId = (hash && document.getElementById(hash + 'Page')) ? hash + 'Page' : 'homePage';
                changePage(pageId);
                displaySuggestions(suggestionsContainer, localAlternatives);
                displaySuggestions(document.getElementById('all-partners-container'), localAlternatives);
                handleScrollAnimations();
            };

            window.addEventListener('scroll', handleScrollAnimations);
            handleInitialLoad();
        });
    </script>
</body>
</html>
